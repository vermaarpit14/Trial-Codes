<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Game App</title>
    <link
      rel="shortcut icon"
      href="https://cdn-icons-png.flaticon.com/256/5930/5930147.png"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Add this to your styles.css */
      .enable-sound {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 40px ;
        height: 40px ;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #5c6ac4;
        font-size: 16px;
        text-decoration: none;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        padding: 0;
        margin: 0;
        box-sizing: border-box; /* Add this */
      }

      .enable-sound:hover {
        background: #5c6ac4;
        color: white;
      }

      .enable-sound span {
        font-size: 24px; /* Material Symbols work best with 24px */
        display: block;
        line-height: 40px; /* Match button height */
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .enable-sound.hidden {
        display: none;
      }

      @media (max-width: 600px) {
        .enable-sound {
          width: 40px;
          height: 40px;
          font-size: 16px;
          top: 15px;
          right: 15px;
        }
      }
    </style>
  </head>

  <body>
    <div class="gamecontainer">
      <div id="gamesoption">
        <h1 class="title">
          Multi - <span class="title" style="color: red">G</span
          ><span class="title" style="color: yellow">A</span
          ><span class="title" style="color: rgb(109, 226, 255)">M</span
          ><span class="title" style="color: greenyellow">E</span> App
        </h1>
        <div class="game-buttons">
          <button
            type="button"
            id="gameone"
            onclick="window.location.href='quiz/quiz.html'"
          >
            Quiz Game
          </button>
          <button
            type="button"
            id="gametwo"
            onclick="window.location.href='snake-game/snake.html'"
          >
            Snake Game
          </button>
          <button
            type="button"
            id="gamethree"
            onclick="window.location.href='cricket/cricket.html'"
          >
            Finger Cricket
          </button>
          <button
            type="button"
            id="gamefour"
            onclick="window.location.href='rock-paper-scissor/rps.html'"
          >
            Rock Paper Scissors
          </button>
        </div>
      </div>
    </div>

    <button id="enableSound" class="enable-sound">
      <span class="material-symbols-outlined">music_note</span>
    </button>

    <!-- Hidden audio element -->
    <audio id="bgMusic" loop style="display: none"></audio>

    <script>
      // Array of background music tracks (relative paths)
      const bgmTracks = ["bgm1.mp3", "bgm2.mp3", "bgm3.mp3", "bgm4.mp3", "bgm5.mp3", "bgm6.mp3"];

      // Get elements
      const bgMusic = document.getElementById("bgMusic");
      const enableSoundBtn = document.getElementById("enableSound");

      // Select a random BGM track
      function getRandomBGM() {
        const randomIndex = Math.floor(Math.random() * bgmTracks.length);
        return bgmTracks[randomIndex];
      }

      // Initialize music player
      function initMusicPlayer() {
        // Set a random BGM track
        bgMusic.src = getRandomBGM();

        // Try to play music
        const playPromise = bgMusic.play();

        if (playPromise !== undefined) {
          playPromise
            .then(() => {
              // Successfully started playback
              enableSoundBtn.classList.add("hidden");
            })
            .catch((error) => {
              // Autoplay was prevented
              console.log("Waiting for user interaction to play audio");
            });
        }
      }

      // When current track ends, play another random one
      bgMusic.addEventListener("ended", () => {
        bgMusic.src = getRandomBGM();
        bgMusic.play();
      });

      // Enable sound when button is clicked
      enableSoundBtn.addEventListener("click", () => {
        initMusicPlayer();
      });

      // Also try to initialize when any game button is clicked
      document.querySelectorAll(".game-buttons button").forEach((button) => {
        button.addEventListener("click", () => {
          if (bgMusic.paused) {
            initMusicPlayer();
          }
        });
      });
    </script>
  </body>
</html>
